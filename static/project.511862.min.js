(()=>{var gt=Object.create;var z=Object.defineProperty,Ft=Object.defineProperties,st=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertyNames,dt=Object.getOwnPropertySymbols,Nt=Object.getPrototypeOf,nt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable;var at=(e,t,l)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,A=(e,t)=>{for(var l in t||(t={}))nt.call(t,l)&&at(e,l,t[l]);if(dt)for(var l of dt(t))Bt.call(t,l)&&at(e,l,t[l]);return e},it=(e,t)=>Ft(e,rt(t));var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Qt=(e,t,l,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of It(t))!nt.call(e,a)&&a!==l&&z(e,a,{get:()=>t[a],enumerable:!(d=st(t,a))||d.enumerable});return e};var ct=(e,t,l)=>(l=e!=null?gt(Nt(e)):{},Qt(t||!e||!e.__esModule?z(l,"default",{value:e,enumerable:!0}):l,e));var u=(e,t,l)=>new Promise((d,a)=>{var n=c=>{try{V(l.next(c))}catch(i){a(i)}},W=c=>{try{V(l.throw(c))}catch(i){a(i)}},V=c=>c.done?d(c.value):Promise.resolve(c.value).then(n,W);V((l=l.apply(e,t)).next())});var Vt=v((f,P)=>{(function(e){"use strict";var t=function(){},l=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(i){return setTimeout(i,16)};function d(){var i=this;i.reads=[],i.writes=[],i.raf=l.bind(e),t("initialized",i)}d.prototype={constructor:d,runTasks:function(i){t("run tasks");for(var b;b=i.shift();)b()},measure:function(i,b){t("measure");var Z=b?i.bind(b):i;return this.reads.push(Z),a(this),Z},mutate:function(i,b){t("mutate");var Z=b?i.bind(b):i;return this.writes.push(Z),a(this),Z},clear:function(i){return t("clear",i),W(this.reads,i)||W(this.writes,i)},extend:function(i){if(t("extend",i),typeof i!="object")throw new Error("expected object");var b=Object.create(this);return V(b,i),b.fastdom=this,b.initialize&&b.initialize(),b},catch:null};function a(i){i.scheduled||(i.scheduled=!0,i.raf(n.bind(null,i)),t("flush scheduled"))}function n(i){t("flush");var b=i.writes,Z=i.reads,o;try{t("flushing reads",Z.length),i.runTasks(Z),t("flushing writes",b.length),i.runTasks(b)}catch(G){o=G}if(i.scheduled=!1,(Z.length||b.length)&&a(i),o)if(t("task errored",o.message),i.catch)i.catch(o);else throw o}function W(i,b){var Z=i.indexOf(b);return!!~Z&&!!i.splice(Z,1)}function V(i,b){for(var Z in b)b.hasOwnProperty(Z)&&(i[Z]=b[Z])}var c=e.fastdom=e.fastdom||new d;typeof P=="object"&&(P.exports=c)})(typeof window!="undefined"?window:typeof f!="undefined"?f:globalThis)});var Wt=v((cl,w)=>{(function(){"use strict";var e=function(){function t(){}t.prototype=Object.create(null);function l(b,Z){for(var o=Z.length,G=0;G<o;++G)c(b,Z[G])}var d={}.hasOwnProperty;function a(b,Z){b[Z]=!0}function n(b,Z){if(Z.toString!==Object.prototype.toString&&!Z.toString.toString().includes("[native code]")){b[Z.toString()]=!0;return}for(var o in Z)d.call(Z,o)&&(b[o]=!!Z[o])}var W=/\s+/;function V(b,Z){for(var o=Z.split(W),G=o.length,p=0;p<G;++p)b[o[p]]=!0}function c(b,Z){if(Z){var o=typeof Z;o==="string"?V(b,Z):Array.isArray(Z)?l(b,Z):o==="object"?n(b,Z):o==="number"&&a(b,Z)}}function i(){for(var b=arguments.length,Z=Array(b),o=0;o<b;o++)Z[o]=arguments[o];var G=new t;l(G,Z);var p=[];for(var s in G)G[s]&&p.push(s);return p.join(" ")}return i}();typeof w!="undefined"&&w.exports?(e.default=e,w.exports=e):window.classNames=e})()});var Zt=v((bt,D)=>{(function(e){var t={browser:[[/msie ([\.\_\d]+)/,"ie"],[/trident\/.*?rv:([\.\_\d]+)/,"ie"],[/firefox\/([\.\_\d]+)/,"firefox"],[/chrome\/([\.\_\d]+)/,"chrome"],[/version\/([\.\_\d]+).*?safari/,"safari"],[/mobile safari ([\.\_\d]+)/,"safari"],[/android.*?version\/([\.\_\d]+).*?safari/,"com.android.browser"],[/crios\/([\.\_\d]+).*?safari/,"chrome"],[/opera/,"opera"],[/opera\/([\.\_\d]+)/,"opera"],[/opera ([\.\_\d]+)/,"opera"],[/opera mini.*?version\/([\.\_\d]+)/,"opera.mini"],[/opios\/([a-z\.\_\d]+)/,"opera"],[/blackberry/,"blackberry"],[/blackberry.*?version\/([\.\_\d]+)/,"blackberry"],[/bb\d+.*?version\/([\.\_\d]+)/,"blackberry"],[/rim.*?version\/([\.\_\d]+)/,"blackberry"],[/iceweasel\/([\.\_\d]+)/,"iceweasel"],[/edge\/([\.\d]+)/,"edge"]],os:[[/linux ()([a-z\.\_\d]+)/,"linux"],[/mac os x/,"macos"],[/mac os x.*?([\.\_\d]+)/,"macos"],[/os ([\.\_\d]+) like mac os/,"ios"],[/openbsd ()([a-z\.\_\d]+)/,"openbsd"],[/android/,"android"],[/android ([a-z\.\_\d]+);/,"android"],[/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/,"firefoxos"],[/windows\s*(?:nt)?\s*([\.\_\d]+)/,"windows"],[/windows phone.*?([\.\_\d]+)/,"windows.phone"],[/windows mobile/,"windows.mobile"],[/blackberry/,"blackberryos"],[/bb\d+/,"blackberryos"],[/rim.*?os\s*([\.\_\d]+)/,"blackberryos"]],device:[[/ipad/,"ipad"],[/iphone/,"iphone"],[/lumia/,"lumia"],[/htc/,"htc"],[/nexus/,"nexus"],[/galaxy nexus/,"galaxy.nexus"],[/nokia/,"nokia"],[/ gt\-/,"galaxy"],[/ sm\-/,"galaxy"],[/xbox/,"xbox"],[/(?:bb\d+)|(?:blackberry)|(?: rim )/,"blackberry"]]},l="Unknown",d=Object.keys(t);function a(){var V=this;d.forEach(function(c){V[c]={name:l,version:[],versionString:l}})}function n(V,c,i){t[c].forEach(function(b){var Z=b[0],o=b[1],G=i.match(Z);G&&(V[c].name=o,G[2]?(V[c].versionString=G[2],V[c].version=[]):G[1]?(V[c].versionString=G[1].replace(/_/g,"."),V[c].version=W(G[1])):(V[c].versionString=l,V[c].version=[]))})}function W(V){return V.split(/[\._]/).map(function(c){return parseInt(c)})}a.prototype.sniff=function(V){var c=this,i=typeof window!="undefined",b=i?navigator.userAgent:"",Z=(V||b).toLowerCase();return d.forEach(function(o){n(c,o,Z)}),this},typeof D!="undefined"&&D.exports?D.exports=a:(e.Sniffr=new a,e.Sniffr.sniff(navigator.userAgent))})(bt)});function m(e,t=null){let l=M(t);return Array.from(l.querySelectorAll(e))}function h(e,t=null){return M(t).querySelector(e)||!1}function M(e){var t;return(t=e!=null?e:window.__shadowRoot)!=null?t:document}function L(e){let t=h(".Navigation"),l=h(".Navigation__hamburger");if(!t||!l)return;let d=m(".Navigation__item",t);if(d.length===0){l.classList.add("hidden");return}e&&Yt(e),Xt(l,t),Jt(d,t,l),ut(l)}function Yt(e){m(".Navigation__hamburger span").forEach(t=>t.style.backgroundColor=e)}function Xt(e,t){function l(a){return n=>{n.key==="Tab"&&!n.shiftKey&&(n.preventDefault(),a.focus())}}function d(a){return n=>{n.key==="Tab"&&n.shiftKey&&(n.preventDefault(),a.focus())}}e.addEventListener("click",a=>{a.preventDefault(),t.classList.toggle("Navigation--isActive");let n=t.classList.contains("Navigation--isActive"),W=n?"true":"false";e.setAttribute("aria-expanded",W);let V=m("nav.Theme-NavigationBar a"),c=V.at(0),i=V.at(-1),b=c?d(i):null,Z=i?l(c):null;function o(){t.classList.remove("Navigation--isActive"),e.setAttribute("aria-expanded","false"),e.focus(),c==null||c.removeEventListener("keydown",b),i==null||i.removeEventListener("keydown",Z)}function G(g){!g.target.closest(".Navigation__hamburger")&&!t.contains(g.target)&&o()}function p(g){g.key==="Escape"&&o()}let s=M();n?(c==null||c.focus(),c==null||c.addEventListener("keydown",b),i==null||i.addEventListener("keydown",Z),s.addEventListener("click",G),s.addEventListener("keydown",p)):(c==null||c.removeEventListener("keydown",b),i==null||i.removeEventListener("keydown",Z),s.removeEventListener("click",G),s.removeEventListener("keydown",p),e.focus())})}function ut(e){e.classList.remove("Navigation__hamburger--initializing")}function Jt(e,t,l){let d=a=>{var W,V,c;t.classList.remove("Navigation--isActive"),l.setAttribute("aria-expanded","false");let n=M();if(n instanceof ShadowRoot){a.preventDefault();let i=(V=(W=a.target)==null?void 0:W.getAttribute("href"))==null?void 0:V.replace(/^.*#/,"#");(c=n.querySelector(i))==null||c.scrollIntoView({behavior:"smooth"})}};e.forEach(a=>a.addEventListener("click",d))}window.hasOwnProperty("Shorthand")||(window.Shorthand={});var xt=ct(Vt());var Tt=ct(Wt());var Zl=Zt();var y={getOrientation(){return window.Shorthand.displayContainer?y.getWidth()>y.getHeight()?"landscape":"portrait":window.innerWidth>window.innerHeight?"landscape":"portrait"},getHeight(){return window.Shorthand.displayContainer.getCache().height},getWidth(){return window.Shorthand.displayContainer.getCache().width},getTop(){return window.Shorthand.displayContainer.getCache().top},getBottom(){return window.Shorthand.displayContainer.getCache().bottom},getVhUnitsInPixels(e){return y.getHeight()*(e/100)},getDisplayContainer(){return window.Shorthand.displayContainer}},k=y;var ot={facebook:{networkName:"Facebook",shareAction:"Share",popupWidth:600,popupHeight:420},twitter:{networkName:"Twitter",shareAction:"Tweet",popupWidth:600,popupHeight:250},linkedin:{networkName:"LinkedIn",shareAction:"Share",popupWidth:600,popupHeight:250}};function Ct(e,t){let l=Math.round(k.getWidth()/2-t.popupWidth/2),d=0;k.getHeight()>t.popupHeight&&(d=Math.round(k.getHeight()/3-t.popupHeight/2));let a={left:l,top:d,width:t.popupWidth,height:t.popupHeight,personalbar:0,toolbar:0,scrollbars:1,resizable:1},n=Object.keys(a).map(c=>`${c}=${a[c]}`).join(","),W="social-widget-"+t.networkName.replace(/\s+/,"-"),V=window.open(e,W,n);V?V.focus():location.href=e}function Ht(e){e.preventDefault();let t=e.currentTarget,l=t.getAttribute("data-social-share"),d=ot[l],a=t.href;Ct(a,d)}function Mt(e){let t=e.getAttribute("data-social-share");t in ot?e.addEventListener("click",Ht,{passive:!1}):console.error(`Social Share button of type ${t} is not supported.`)}function K(e="[data-social-share]"){m(e).forEach(Mt)}var S=class{constructor({baseUrl:t,componentsBaseUrl:l,publishUrl:d},a,n){this.baseUrl=t,this.publishUrl=d!=null?d:"",this.componentsBaseUrl=l,this.index=a,this.isEmbed="embed"in window.Shorthand,this.search=kt(a,n==null?void 0:n.search)}isEmbedLink(t){return this.isEmbed&&t.startsWith(this.publishUrl)}getHeaderNavigation(){return this.compileNavigation(this.index.headerNavigation)}getFooterNavigation(){return this.compileNavigation(this.index.footerNavigation)}compileNavigation(t){var d,a,n;let l=t.hasManualItems?t.items:this.index.roots.map(W=>({label:this.index.nodes[W].label,nodeId:W,url:""}));return{isEnabled:t.isEnabled,option:t.option,hasSocials:t.hasSocials,social:t.social,hasSearch:t.hasSearch,showThemeLogos:t.showThemeLogos,logos:((d=t.logos)!=null?d:[]).map(W=>this.compileLogo(W)),color:(a=t.color)!=null?a:void 0,fontColor:(n=t.fontColor)!=null?n:void 0,items:l.reduce((W,V)=>{let c=this.compileNavigationItem(V);return c&&W.push(c),W},[])}}compileLogo(t){let l={media:{}};for(let d of t.media)d.uri&&(l.media[d.sel]={src:this.getProjectUrl(d.uri),alt:d.alt});return t.link&&(l.link=it(A({},t.link),{href:this.getProjectUrl(t.link.href)})),l}compileNavigationItem({label:t,nodeId:l,url:d}){var W,V,c;if(d)return{label:t,url:d,children:[]};let a=this.index.nodes[l];if(!a)return;let n=(V=(W=a.children)==null?void 0:W.reduce((i,b)=>{let Z=this.index.nodes[b];return Z!=null&&Z.page&&i.push({label:Z.label||this.index.pages[Z.page].title||"Untitled story",url:this.getPageUrl(Z.page)}),i},[]))!=null?V:[];return a.page&&(d=this.getPageUrl(a.page)),{label:t||a.label||((c=this.index.pages[a.page])==null?void 0:c.title)||"Untitled story",url:d,children:n}}externalLinkToProjectPage(t){return{pageId:t.id,url:t.url,title:t.title,description:t.description,publishedAt:new Date,tags:[],cover:this._compileCover(t.cover)}}getProjectPage(t,l){var a;let d=this.index.pages[t];if(d)return{pageId:t,url:this.getPageUrl(t),title:l!=null&&l.title?l.title:d.title,description:l!=null&&l.description?l.description:d.description,publishedAt:new Date(d.at),tags:(a=d.tags)!=null?a:[],cover:l!=null&&l.cover?this._compileCover(l.cover):this._compileCover(d.cover,t),colors:d.colors}}_compileCover(t,l){if(t){let{image:d,sources:a=[]}=t!=null?t:{};return{url:l?this.getPageAssetUrl(l,d):d,sources:a.map(({t:n,s:W})=>({type:n,srcSet:W.map(({u:V,w:c})=>{let i=l?this.getPageAssetUrl(l,V):V;return c?`${i} ${c}w`:i}).join(",")}))}}}getProjectPageIds(){return Object.keys(this.index.pages)}getTaggedPageIds(t,l){let d=new Set(t);return Object.keys(this.index.pages).filter(a=>{var W,V;let n=(V=(W=this.index.pages[a])==null?void 0:W.tags)!=null?V:[];return l==="all"?n.filter(c=>d.has(c)).length>=d.size:n.find(c=>d.has(c))})}getSubpageIds(t,l,d,a){l||(l=this.index.pages[d].nodeId),t==="siblings"&&(l=Object.entries(this.index.nodes).reduce((c,[i,b])=>b.children.includes(l)?i:c,l));let n=Object.keys(this.index.nodes).find(c=>this.index.nodes[c].page===d),W=this.index.nodes[l];return this._getChildren(W,t,a?null:n).reduce((c,i)=>{let b=this.index.nodes[i];return b.page?c.concat(b.page):c},[])}_getChildren(t,l,d){if(!t)return[];let a=t.children.filter(n=>n!==d);return l==="descendants"?a.reduce((n,W)=>n.concat(W).concat(this._getChildren(this.index.nodes[W],l,d)),[]):a}getPageAssetUrl(t,l){var n;if(!l)return;let d=this.index.pages[t],a=this.index.nodes[d==null?void 0:d.nodeId];if(!(!d||!a))return/^(https?:\/\/|\/)/.exec(l)?l:this.isEmbed?`${this.publishUrl}${a.uri}${l}`:`${(n=this.componentsBaseUrl)!=null?n:this.baseUrl}${a.uri}${l}`}getPageUrl(t){var n;let l=this.index.pages[t],d=this.index.nodes[l==null?void 0:l.nodeId];if(!l||!d)return;let a=(n=l.uri)!=null?n:`${d.uri}index.html`;return/^(https?:\/\/|\/)/.exec(a)?a:this.isEmbed?`${this.publishUrl}${a}`:`${this.baseUrl}${a}`}getProjectUrl(t){return/^(https?:\/\/|\/)/.exec(t)?t:`${this.baseUrl}${t}`}hasSearch(){var t;return(t=this.index.features.searchEnabled)!=null?t:!1}getSearch(){return u(this,null,function*(){return this.index.features.searchEnabled||console.error("Project search is not enabled."),this.search.then(t=>{if(!t)throw new Error("No search has been loaded");return t})})}};function kt(e,t){return e.features.searchEnabled&&t?t():(e.features.searchEnabled&&console.error("Project search is enabled but no search extension is provided."),null)}function q(e){var t,l,d;(d=(l=(t=window.Shorthand)==null?void 0:t.analytics)==null?void 0:l.api)!=null&&d.ready&&window.Shorthand.analytics.api.addEvent(e)}var _="project-search--isActive";function E(){let e=h(".project-search-button");e==null||e.focus()}function $(){let e=h("input[data-item-searchterm]");e==null||e.focus()}function tt(e,t){St(e,t),Et(t),document.addEventListener("mouseup",l=>{!t.contains(l.target)&&!e.contains(l.target)&&(t.classList.remove(_),E())},!0)}function St(e,t){e.addEventListener("click",l=>{l.preventDefault(),t.classList.add(_),$()})}function Et(e){let t=h(".project-search-close-button");t&&t.addEventListener("click",l=>{l.preventDefault(),e.classList.remove(_),E()})}function j(e){m("a[data-path]",e).forEach(t=>{t.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation();let d=t.getAttribute("data-path");window.Shorthand.navigateInProject(d,t.href)})})}function H(e,t,l){if(e.isEmbedLink(t)){let{path:d,url:a}=jt(e,t);l.setAttribute("data-path",d),l.href=a}else l.href=t}function jt(e,t){let l="/"+t.replace(e.publishUrl,"").replace(/\/?index\.html/,""),d=new URL(document.location.href);return d.searchParams.set("shpath",l),{path:l,url:decodeURIComponent(d.toString())}}function Gt(e,t,l,d){return u(this,null,function*(){let a=h(".project-search-button",t),n=h("div[data-project-search-sidebar]",t),W=n&&h("div[data-project-search]",n),V=h("button[data-project-search-close-button]");if(d){let i=a.querySelector("path");i&&(i.style.fill=d)}function c(){a&&a.remove(),n&&n.remove()}return!e.hasSearch()||!l.hasSearch||!a||!n||!W||!V?c():(tt(a,n),e.getSearch().then(i=>At(e,W,n,V,i)).catch(i=>{console.error(`Could not set up search: ${i}.`),c()}))})}function At(e,t,l,d,a){let n=h("input[data-item-searchterm]",t),W=h(".project-search-delete-btn",t),V=h(".project-search-enter-btn",t),c=h(".project-search-results-container",l),i=h(".project-search-results-summary",l);function b(R){return!V.disabled&&R.length>0}function Z(R){return u(this,null,function*(){V.disabled=!0;let Q=Date.now(),T=yield a.search(R);return q({id:"project-search:show-results",el:V,data:{termLength:R.length,termWordCount:R.split(" ").filter(C=>C).length,searchTime:Date.now()-Q,resultsStoryCount:T.length}}),T})}function o(R){V.style.display=R?"inline":"none"}function G(R){V.disabled=!R}function p(R){W.style.display=R?"inline":"none"}function s(R){R.value="",lt(l),p(!1),o(!0),G(!1)}function g(R){let Q=document.createElement("div");return Q.textContent=R,Q.innerHTML}function B(R){return u(this,null,function*(){let Q=R.value.trim();if(b(Q))try{lt(l);let T=l.querySelector("template[data-project-search-results-template]"),C=yield Z(Q),U=C.length,r=wt(e,C,T);if(U)i.innerHTML=`<p class="search-results-found-count">${U} ${U>1?"results":"result"} found for "${g(Q)}"</p>`;else{let I=`
            <div class="no-search-results">
              <span class="no-results-heading"> No matching results found for "${g(Q)}" </span>
              <span>You could try: </span>
              <span class="search-options">related, or more general words</span>
              <span class="search-options">alternate spelling</span>
            </div>
          `;i.innerHTML=I}c.append(r),j(l)}catch(T){console.error(`Error searching project: ${T}`)}finally{p(!0),o(!1),G(!1)}})}function Y(R){R.value.trim()===""?(lt(l),G(!1)):G(!0),p(!1),o(!0)}n.onkeydown=R=>{R.key==="Enter"&&(R.preventDefault(),B(n))},n.addEventListener("input",()=>{Y(n)}),W.onclick=()=>{s(n),$()},d.onclick=()=>{s(n),E()},V.onclick=()=>{B(n)},document.addEventListener("keydown",R=>{R.key==="Escape"&&l.classList.contains("project-search--isActive")&&(l.classList.remove("project-search--isActive"),s(n),E())})}function lt(e){let t=h(".search-results-found-list",e);t&&t.remove();let l=h(".project-search-results-summary",e);l&&(l.innerHTML="")}function wt(e,t,l){let d=document.createElement("ul");return d.className="search-results-found-list","content"in l&&t.length>0&&t.forEach((a,n)=>{d.append(Dt(e,a,n,l))}),d}function Dt(e,t,l,d){var Z,o,G,p,s,g;let a=e.getProjectPage(t.getPageId()),n=t.getSnippet(),W=document.createElement("li");W.className="project-story-list-item";let V=d==null?void 0:d.content.cloneNode(!0),c=V.querySelector(".project-image-link");H(e,a.url,c),c.addEventListener("click",()=>{q({id:"project-search:select-result",el:c,data:{url:a.url,location:window.location.href,resultIdx:l,publishUrl:e.publishUrl,isEmbed:e.isEmbed}})});let i=V.querySelector("[data-project-search-result-image]");i&&(i.src=(o=(Z=a.cover)==null?void 0:Z.url)!=null?o:"",i.alt=`Cover for ${a.title}`);let b=V.querySelector("[data-project-search-result-swatch]");return b&&(b.style.backgroundColor=(p=(G=a.colors)==null?void 0:G.backgroundColor)!=null?p:"white"),a.cover?b==null||b.remove():i==null||i.remove(),V.querySelector(".project-match-snippet-container").innerHTML=n,V.querySelector(".project-story-title").textContent=a.title,V.querySelector(".project-story-description").textContent=((s=a.description)==null?void 0:s.length)>50?((g=a.description)==null?void 0:g.substring(0,50))+"...":a.description,W.appendChild(V),W}function et(){if(!window.hasOwnProperty("$shproject")||window.$shproject===void 0)return;let e=!1,t={create:()=>u(null,null,function*(){if(!e){e=!0;let l=window.$shproject,d=Promise.resolve(null);if(l.index)d=Promise.resolve(new S(l,l.index,{search:()=>u(null,null,function*(){return{search:()=>u(null,null,function*(){return[]})}})}));else{let a=l.publishUrl.replace(l.pageUri,""),n=yt(a);d=n("project.js").then(()=>new S(window.$shproject,window.$shproject.index,{search:()=>u(null,null,function*(){return yield n(window.$shproject.index.manifest["project-search.js"]),window.$shproject_ext_search(a)})}))}window.Shorthand.project.get=()=>d}}),get:()=>u(null,null,function*(){return console.error("Project API is not ready yet"),null})};window.hasOwnProperty("Shorthand")?window.Shorthand.hasOwnProperty("project")||(window.Shorthand.project=t):window.Shorthand={project:t},window.Shorthand.project.get||(window.Shorthand.project.get=t.get),window.Shorthand.project.create||(window.Shorthand.project.create=t.create),window.Shorthand.project.create().catch(console.error),window.Shorthand.project.get().then(l=>{l&&(Ot(l),zt(l),K(),Lt(l))}).catch(console.error)}function yt(e){return function(l){return new Promise((d,a)=>{let n=document.createElement("script");n.src=`${e}${l}`,n.addEventListener("load",()=>{d()}),n.addEventListener("error",a),h("#article").appendChild(n)})}}function Ot(e){var W;let t=h("[data-project-header]"),l=e.getHeaderNavigation(),d=l.option!=="D",a=(W=l.fontColor)==null?void 0:W.color;if(!t||!l.isEnabled){let V=h("[data-reading-bar-external]");V&&(V.style.display="block");return}t.classList.remove("Theme-HeaderContainer--hidden"),Rt(e,t,l,"header"),d?Ut(e,t,l,"header"):t.querySelector(".Navigation__hamburger").remove(),Gt(e,t,l,a),ht(t,l,"header"),m(".Project-Header--center a").forEach(V=>V.addEventListener("focus",function(){let c=h(".Navigation__hamburger");if(!c)return;c.style.display!="none"&&c.getAttribute("aria-expanded")==="false"&&c.focus()})),L(a)}function zt(e){let t=h("[data-project-footer]"),l=e.getFooterNavigation();!t||!l.isEnabled||(Rt(e,t,l),Ut(e,t,l,"footer"),ht(t,l,"footer"))}function Rt(e,t,l,d){var W;t.style.removeProperty("display");let a=d==="header"&&h(".Theme-HeaderContainer .Theme-NavigationBar:not(.Project-Navigation)");if(l.color){let V=(W=l.color)==null?void 0:W.color;t.style.backgroundColor=V,a&&(a.style.backgroundColor=V)}l.fontColor&&a&&m(".Theme-NavigationBarItem",a).forEach(V=>{V.style.color=l.fontColor.color}),t.classList.add(`ProjectNavigation--${l.option}`);let n=h("[data-project-logos]",t);n&&Kt(e,l.logos,l.showThemeLogos,n)}function Ut(e,t,l,d){let a=t.querySelector(".Navigation");l.color&&(a.style.backgroundColor=l.color.color);let n=t.querySelector("ul");l.items.forEach(W=>{var i,b,Z;let V=document.createElement("li");V.style.color=(i=l.fontColor)==null?void 0:i.color,V.className="Navigation__item Theme-NavigationBarItem";let c=document.createElement(W.url?"a":"span");if(c.className="Theme-NavigationLink",c.setAttribute("data-story-nav-item","true"),c.textContent=W.label,W.url&&H(e,W.url,c),V.appendChild(c),n.appendChild(V),W.children.length>0){let g=function(B,Y){return R=>{R.key==="Tab"?R.shiftKey?document.activeElement===B&&(R.preventDefault(),Y.focus()):document.activeElement===Y&&(R.preventDefault(),B.focus()):R.key==="Escape"&&(V.classList.remove("isOpen"),h(".Navigation__button").setAttribute("aria-expanded","false"),s==null||s.focus())}};V.classList.add("hasMenu");let o=document.createElement("ul");o.className="Navigation__subMenu Theme-ProjectNavigation-subMenu",o.style.backgroundColor=(b=l.color)==null?void 0:b.color,o.setAttribute("role","menu");let G,p,s;if(d==="header"){let B=document.createElement("button");B.className="Navigation__button",B.style.color=(Z=l.fontColor)==null?void 0:Z.color,B.setAttribute("aria-label",`show submenu for ${W.label}`),B.addEventListener("click",function(){let R=this.parentNode;R.className.includes("isOpen")?(R.classList.remove("isOpen"),this.setAttribute("aria-expanded","false")):(R.classList.add("isOpen"),this.setAttribute("aria-expanded","true"),s=document.activeElement,G&&p&&V.addEventListener("keydown",g(G,p)))});let Y=document.createElement("span");Y.className="menuCaret",B.appendChild(Y),V.addEventListener("mouseenter",function(){this.classList.add("isOpen"),B.setAttribute("aria-expanded","true")}),V.addEventListener("mouseleave",function(){this.classList.remove("isOpen"),B.setAttribute("aria-expanded","false")}),V.appendChild(B)}W.children.forEach((B,Y)=>{let R=document.createElement("li");R.className="Navigation__item Theme-NavigationBarItem Theme-ProjectNavigation-subItem",R.setAttribute("role","menuitem");let Q=document.createElement("a");Q.className="Theme-NavigationLink",Q.textContent=B.label,d==="header"&&(G=Y===0?Q:G,p=Y===W.children.length-1?Q:p),H(e,B.url,Q),R.appendChild(Q),o.appendChild(R)}),V.appendChild(o)}}),j(n)}function ht(e,t,l){let d=encodeURIComponent(document.location.href),a=l==="header"?e.querySelector(".Project-Header--right .Theme-SocialIcons"):e.querySelector(".Project-Footer--right .Theme-SocialIcons");if(t.social.showTwitter){let n=JSON.parse(a.getAttribute("data-text")),W=document.createElement("span");W.className="Theme-SocialButton";let V=document.createElement("a");V.className="Theme-TwitterButton",V.href=`https://twitter.com/intent/tweet?url=${d}${n.text}${n.via}`,V.setAttribute("data-social-share","twitter"),V.setAttribute("data-testid","Header--btn-Twitter"),W.appendChild(V),a.appendChild(W)}if(t.social.showFacebook){let n=document.createElement("span");n.className="Theme-SocialButton";let W=document.createElement("a");W.className="Theme-FacebookButton Theme-FaceboookButton",W.href=`https://www.facebook.com/sharer/sharer.php?u=${d}`,W.setAttribute("data-social-share","facebook"),W.setAttribute("data-testid","Header--btn-Facebook"),n.appendChild(W),a.appendChild(n)}if(t.social.showLinkedIn){let n=document.createElement("span");n.className="Theme-SocialButton";let W=document.createElement("a");W.className="Theme-LIButton",W.href=`https://www.linkedin.com/shareArticle?mini=true&url=${d}`,W.setAttribute("data-social-share","linkedin"),W.setAttribute("data-testid","Header--btn-LinkedIn"),n.appendChild(W),a.appendChild(n)}}function vt(e){let t=e.length;for(;t>0;){let l=Math.floor(Math.random()*t);t--;let d=e[t];e[t]=e[l],e[l]=d}return e}function Lt(e){m("[data-related-stories]").forEach(t=>{let l=h("ul[data-related-stories-list]",t);if(l)return ft(e,t,l);let d=h("ul[data-related-stories-site-map]",t);if(d)return Pt(e,d)})}function ft(e,t,l){var Q,T,C;let d=l.getAttribute("data-page"),a=l.getAttribute("data-style"),n=(Q=l.getAttribute("data-filter"))!=null?Q:"list",W=l.getAttribute("data-content-titles")!=="false",V=l.getAttribute("data-content-descriptions")!=="false",c=(T=l.getAttribute("data-sort-order"))!=null?T:"Recently published",i=l.hasAttribute("data-filter-pages")?JSON.parse(l.getAttribute("data-filter-pages")):[],b=l.getAttribute("data-default-shape"),Z=JSON.parse(l.getAttribute("data-default-corners")),o=l.hasAttribute("data-external-links")?JSON.parse(l.getAttribute("data-external-links")):[],G=l.hasAttribute("data-item-overrides")?JSON.parse(l.getAttribute("data-item-overrides")):[],p;l.hasAttribute("data-limit")&&(p=(C=parseInt(l.getAttribute("data-limit")))!=null?C:void 0);let s=i;switch(n){case"subtree":let{relation:U,relationNodeId:r,includeSelfInList:I}=l.hasAttribute("data-filter-subtree")?JSON.parse(l.getAttribute("data-filter-subtree")):{relation:"children",relationNodeId:d,includeSelfInList:!1};s=e.getSubpageIds(U,r,d,I);break;case"tags":let N=l.hasAttribute("data-filter-tag-rule")?l.getAttribute("data-filter-tag-rule"):"any",J=l.hasAttribute("data-filter-tags")?JSON.parse(l.getAttribute("data-filter-tags")):[];s=e.getTaggedPageIds(J,N).filter(X=>X!==d);break}let g=s.map(U=>{let r=o.find(N=>N.id===U),I=G==null?void 0:G.find(N=>N.id===U);return r?e.externalLinkToProjectPage(r):e.getProjectPage(U,I)}).filter(U=>U);switch(c){case"Recently published":g.sort((I,N)=>N.publishedAt.getTime()-I.publishedAt.getTime());break;case"A - Z":g.sort((I,N)=>I.title.localeCompare(N.title));break;case"Z - A":g.sort((I,N)=>N.title.localeCompare(I.title));break;case"Random":vt(g);break;case"Manually sorted":let U=[],r=[...g];for(let I of i){let N=g.find(J=>J.pageId===I);N&&(U.push(N),r=r.filter(J=>J.pageId!==I))}g=U.concat(r)}let B=g.slice(0,p);if(B.length===0){t.remove();return}let Y=h('[data-template="item"]',l);if(!Y){t.remove();return}m("[data-template]",l).forEach(U=>{U.removeAttribute("data-template"),Y.remove(),Y.style.removeProperty("display")});function R(U,r){var J;let I=(J=o.find(X=>X.id===r.pageId))!=null?J:G.find(X=>X.id==r.pageId),N=b||(I==null?void 0:I.shape);if(["List","Card"].includes(a)||(N="uncropped"),N&&U.classList.add(`crop-${N}`),N!=="circle"){let X=A({topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},b?Z:I==null?void 0:I.corners);U.style.overflow="hidden",U.style.borderTopLeftRadius=X.topLeft+"rem",U.style.borderTopRightRadius=X.topRight+"rem",U.style.borderBottomLeftRadius=X.bottomLeft+"rem",U.style.borderBottomRightRadius=X.bottomRight+"rem"}}B.forEach(U=>{let r=Y.cloneNode(!0);l.appendChild(r);let I=m("a[data-item-url]",r),N=m("img[data-item-media]",r),J=m("[data-item-title]",r),X=m("[data-item-description]",r),mt=m("[data-item-image]",r);I.forEach(F=>{H(e,U.url,F),U.cover?F.style.backgroundColor="transparent":["Card","List"].includes(a)||(F.style.backgroundColor="black",R(F,U))}),U.cover&&(N.forEach(F=>F.setAttribute("src",U.cover.url)),N.forEach(F=>F.setAttribute("alt",`Cover image for ${U.title}`))),J.forEach(F=>{F.textContent=U.title,W||(F.style.display="none")}),X.forEach(F=>{var x;F.textContent=(x=U.description)!=null?x:"",V||(F.style.display="none")}),mt.forEach(F=>{R(F,U)}),J.forEach(F=>F.textContent=U.title),X.forEach(F=>{var x;return F.textContent=(x=U.description)!=null?x:""}),j(r),U.cover?m("source[data-item-mediasource]",r).forEach(F=>{U.cover.sources.forEach(x=>{let O=F.cloneNode(),pt=F.nextSibling;O.srcset=x.srcSet,O.type=x.type,F.parentElement.insertBefore(O,pt)}),F.remove()}):m(".related-story-image",r).forEach(F=>F.remove())})}function Pt(e,t){let l=m("[data-template]",t),d=h('[data-template="page"]',t),a=h('[data-template="node"]',t);l.forEach(W=>{W.removeAttribute("data-template"),W.remove(),W.style.removeProperty("display")});function n(W,V){var s;let c=e.index.nodes[W];if(!c)return;let i=e.index.pages[c.page];if(!i&&!c)return;let Z=(i?d:a).cloneNode(!0),o=c.page?e.getPageUrl(c.page):"",G=i?i.title:c.label;m("[data-item-title]",Z).forEach(g=>{g.textContent=G}),m("a[data-item-url]",Z).forEach(g=>{g.setAttribute("href",o)});let p=h("ul[data-item-children]",Z);p&&((s=c.children)!=null?s:[]).forEach(g=>n(g,p)),V.appendChild(Z)}e.index.roots.forEach(W=>n(W,t))}function Kt(e,t,l,d){let a=m("[data-template]",d),n=h('[data-template="link"]',d),W=h('[data-template="no-link"]',d);if(!n||!W){d.remove();return}l||m("[data-themelogos]",d).forEach(c=>c.remove()),a.forEach(V=>V.remove());for(let{link:V,media:c}of t){let b=(V?n:W).cloneNode(!0),Z=Object.values(c).reduce((o,{alt:G})=>o||G,"");for(let o of m("img[data-logo-img]",b))qt(e,o,c,Z)||o.remove();if(V)for(let o of m("a[data-logo-link]",b))_t(o,V);d.appendChild(b)}}function qt(e,t,l,d){let a=t.getAttribute("data-logo-img");if(a in l){let{src:n,alt:W}=l[a];return t.setAttribute("src",e.publishUrl+n.replace(e.baseUrl,"")),(W||d)&&t.setAttribute("alt",W||d),!0}return!1}function _t(e,t){var d;e.setAttribute("href",t.href),t.blank&&e.setAttribute("target","_blank");let l=new Set((d=e.getAttribute("rel"))!=null?d:[]);t.noreferrer&&l.add("noreferrer"),t.nofollow&&l.add("nofollow"),l.size>0&&e.setAttribute("rels",Array.from(l).join(" "))}et();})();
/*! Bundled license information:

classnames/dedupe.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="539ad42d-c570-519a-970f-4cb9ece667af")}catch(e){}}();
//# sourceMappingURL=project.511862.min.js.map
//# debugId=539ad42d-c570-519a-970f-4cb9ece667af
